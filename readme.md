

# ğŸ“· Portrait Editor - FaceMesh ê¸°ë°˜ ì–¼êµ´ ìœ¤ê³½ í•„í„° ì‹œìŠ¤í…œ ë„ì…

## âœ… ëª©ì 

ê¸°ì¡´ì˜ ì‚¬ê°í˜• ê¸°ë°˜ ì–¼êµ´ ì˜ì—­ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ ë°©ì‹ì€ ì •í™•ë„ê°€ ë‚®ê³ , ì–¼êµ´ ì™¸ê³½(ë¨¸ë¦¬ì¹´ë½, í„±ì„ , ì˜· ê²½ê³„ ë“±)ì—ì„œ ë¶€ìì—°ìŠ¤ëŸ¬ìš´ ë¸”ë Œë”© í˜„ìƒì´ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.

**ì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ `MediaPipe FaceMesh` ê¸°ë°˜ì˜ ì •ë°€ ì–¼êµ´ ìœ¤ê³½ ë§ˆìŠ¤í¬ ì²˜ë¦¬ êµ¬ì¡°ë¡œ ë¦¬íŒ©í† ë§í•©ë‹ˆë‹¤.**

---

## â— ë³€ê²½í•˜ëŠ” ì´ìœ 

### ê¸°ì¡´ ë°©ì‹ì˜ ë¬¸ì œì 

| ë¬¸ì œ | ì„¤ëª… |
|------|------|
| ğŸ”² ì‚¬ê°í˜• ë§ˆìŠ¤í¬ í•œê³„ | ì–¼êµ´ì´ ì •ì‚¬ê°í˜•ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— í•„í„° ê²½ê³„ì—ì„œ ì´ì§ˆê° ë°œìƒ |
| ğŸ­ ì–¼êµ´ ì´ì™¸ ë¶€ìœ„ í¬í•¨ | ì˜·, ë°°ê²½, ë¨¸ë¦¬ì¹´ë½ ë“±ì´ ë§ˆìŠ¤í‚¹ì— í¬í•¨ë˜ì–´ ë¶€ìì—°ìŠ¤ëŸ¬ìš´ ê²°ê³¼ ì´ˆë˜ |
| ğŸ”„ í•„í„° ê²¹ì¹¨ í˜„ìƒ | ëˆˆÂ·ì…Â·í”¼ë¶€ í•„í„° ê°„ ê²½ê³„ê°€ ë§ì§€ ì•Šì•„ Tone mismatch í˜„ìƒ ë°œìƒ |
| âŒ ìì—°ìŠ¤ëŸ¬ìš´ ìœ¤ê³½ ë¶€ì¡± | í—¤ì–´ ë¼ì¸ ë˜ëŠ” í„± ë¼ì¸ í•„í„° ì ìš© ì‹œ ë¶€ìì—°ìŠ¤ëŸ¬ìš´ ê²½ê³„ í‘œí˜„ |

### ğŸ¨ ì „ì²´ ì´ë¯¸ì§€ í•„í„° ì²˜ë¦¬ ë¹„êµ

| Before (Original) | After (Filtered) |
|-------------------|------------------|
| ![Original](sampleimage/original.png) | ![Filtered](sampleimage/final.jpg) |
| ì›ë³¸ ì „ì²´ ì´ë¯¸ì§€ |ê¸°ì¡´ í•„í„° ì ìš© í›„ ì „ì²´ ì´ë¯¸ì§€ ê²°ê³¼ |

---

### âœ‚ï¸ ì–¼êµ´ ì˜ì—­ ë§ˆìŠ¤í¬ ë¹„êµ

| Cropped Face (Rect) | Processed Face (Filtered) |
|---------------------|------------------------------------|
| ![Cropped](sampleimage/cropped.jpg) | ![Sharped](sampleimage/sharped.jpg) |
| Rect ê¸°ë°˜ ì–¼êµ´ ì˜ë¼ë‚¸ ì´ë¯¸ì§€ | ê¸°ì¡´ í•„í„° ì²˜ë¦¬ëœ ì–¼êµ´ |

### ê°œì„  í›„ ê¸°ëŒ€ íš¨ê³¼

| ê°œì„  í•­ëª© | ê¸°ëŒ€ ê²°ê³¼ |
|-----------|-----------|
| âœ… ìœ¤ê³½ ë§ˆìŠ¤í¬ ì ìš© | ë¨¸ë¦¬ë¶€í„° í„±ê¹Œì§€ ìì—°ìŠ¤ëŸ¬ìš´ í•„í„° ì ìš© |
| âœ… ëˆˆÂ·ì… ì˜ì—­ ë³´í˜¸ | ë¶€ìœ„ë³„ í•„í„° ì •ë°€ ì œì–´ ê°€ëŠ¥ |
| âœ… ê²½ê³„ ë¶€ë“œëŸ¬ì›€ í–¥ìƒ | feather + ìœ¤ê³½ ë§ˆìŠ¤í¬ ì¡°í•©ìœ¼ë¡œ ê²½ê³„ íë¦¼ ìì—°ìŠ¤ëŸ¬ì›€ ì¦ê°€ |
| âœ… í–¥í›„ í™•ì¥ì„±â†‘ | ë¶€ìœ„ë³„ ë³´ì •, AR íš¨ê³¼ ì ìš© ë“± ë‹¤ì–‘í•œ ì²˜ë¦¬ íë¦„ê³¼ í˜¸í™˜ì„± í™•ë³´ |

---

## ğŸ¯ ë³€ê²½ ëª©í‘œ

- ì–¼êµ´ ì‚¬ê°í˜•(Rect)ì´ ì•„ë‹Œ, **ìœ¤ê³½ì„  ê¸°ë°˜ ë§ˆìŠ¤í¬**ë¥¼ ì‚¬ìš©í•˜ì—¬ í•„í„° ì²˜ë¦¬
- ì–¼êµ´ ì¤‘ì‹¬ (ë¨¸ë¦¬ ~ í„±ì„ ) ì˜ì—­ì—ë§Œ alpha blendingì„ ì ìš©
- ëˆˆ/ì…/í”¼ë¶€ í•„í„° ì •ë°€ë„ í–¥ìƒ ë° í†¤ ì¼ê´€ì„± í™•ë³´

---

## ğŸ“ êµ¬ì¡° ë³€í™”

### ê¸°ì¡´ êµ¬ì¡°

- `detectFaceWithHairRegion()` â†’ Rect ê¸°ë°˜ crop
- `SelfieSegmentor.segment()` â†’ ë°°ê²½ ë¶„ë¦¬
- `toSoftAlphaMask(...)` â†’ feather í›„ ì‚¬ìš©
- Rect ë§ˆìŠ¤í¬ ê¸°ì¤€ìœ¼ë¡œ í•„í„° ì ìš© ë° ë¸”ë Œë”©

### ë³€ê²½ êµ¬ì¡°

- `MediaPipe FaceMesh` ì‚¬ìš©
    - ì´ 468ê°œ ëœë“œë§ˆí¬ ì¶”ì¶œ
    - ì–¼êµ´ ìœ¤ê³½ì„  polygon ë§ˆìŠ¤í¬ ìƒì„±
- `SegmentationMask`ì™€ ìœ¤ê³½ ë§ˆìŠ¤í¬ë¥¼ **AND ê²°í•©**
- í•´ë‹¹ ì˜ì—­ì—ë§Œ í•„í„° ë° ì—…ìŠ¤ì¼€ì¼ë§ ì ìš©

---

## ğŸ§± êµ¬í˜„ êµ¬ì„± ìš”ì†Œ

### 1. MediaPipe FaceMesh ì ìš©

- `com.google.mediapipe:facemesh:0.10.20` ì˜ì¡´ì„± ì¶”ê°€
- `FaceMesh.getClient()` ë¡œ ì–¼êµ´ landmark íšë“

---

### ğŸ§ª Example

![face_landmark](sampleimage/face_landmark.png)

> MediaPipe FaceMeshë¡œ ì¶”ì¶œëœ ì–¼êµ´ ìœ¤ê³½ ëœë“œë§ˆí¬ ì‹œê°í™” ì˜ˆì‹œì…ë‹ˆë‹¤.

---

### 2. ì–¼êµ´ ìœ¤ê³½ì„  ë§ˆìŠ¤í¬ ìƒì„±

### âœ‚ï¸ ì–¼êµ´ ì˜ì—­ ë§ˆìŠ¤í¬ ë¹„êµ

### ğŸ§ª ì–¼êµ´ ë§ˆìŠ¤í¬ ë‹¨ê³„ë³„ ë¹„êµ

| ğŸ§© Landmark ë§ˆìŠ¤í¬ | ğŸ§  Segmentation ë§ˆìŠ¤í¬ | ğŸ¯ ê²°í•© ë§ˆìŠ¤í¬ |
|--------------------|------------------------|----------------|
| ![Landmark Mask](https://github.com/user-attachments/assets/2069ccd0-5a29-4842-b5ce-4120f99d09ed) | ![Segment Mask](https://github.com/user-attachments/assets/8bd5dd05-6477-4d63-9153-d6086aedd42e) | ![Combined Mask](https://github.com/user-attachments/assets/1d80b5f1-b3ff-4942-b16b-c332107a5ac9) |
| ì–¼êµ´ ìœ¤ê³½ì„  ê¸°ë°˜ ë§ˆìŠ¤í¬ | ì„¸ê·¸ë¨¼íŠ¸ ê¸°ë°˜ ì–¼êµ´+í—¤ì–´ | ë‘ ë§ˆìŠ¤í¬ ê²°í•© ì˜ì—­ (ì •ë°€ í•„í„° ì˜ì—­ í™•ë³´) | 



í…ŒìŠ¤íŠ¸ PRì…ë‹ˆë‹¤
  --
