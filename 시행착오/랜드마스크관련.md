# ğŸ­ Face Landmark ê¸°ë°˜ ì–¼êµ´ ë§ˆìŠ¤í¬ ìƒì„± - ì‹œí–‰ì°©ì˜¤ ê¸°ë¡

## ğŸ” ëª©ì 

MediaPipeì˜ FaceLandmarkerë¥¼ ì‚¬ìš©í•˜ì—¬ ì–¼êµ´ ì™¸ê³½ ì˜ì—­(ìœ¤ê³½ì„ )ë§Œ ë§ˆìŠ¤í‚¹í•˜ê³ ,
ê·¸ ìœ„ì— í•„í„° íš¨ê³¼(Sharpen, Soft, Natural ë“±)ë¥¼ ì ìš©í•˜ê¸° ìœ„í•¨.

---

## âš ï¸ ë¬¸ì œ 1: `fillPoly()` ë§ˆìŠ¤í¬ê°€ ì°¢ì–´ì§€ê³  ì™œê³¡ë¨

### ğŸ§© ì¦ìƒ

* `Imgproc.fillPoly()` í˜¸ì¶œ ê²°ê³¼ê°€ ì‚¼ê°í˜•ì²˜ëŸ¼ ì°¢ì–´ì§„ í˜•íƒœë¡œ ì¶œë ¥ë¨
* ë§ˆìŠ¤í¬ê°€ ì–¼êµ´ ì™¸ê³½ì´ ì•„ë‹Œ ì—‰ëš±í•œ ê³³ì„ í¬í•¨í•¨
* ì¢Œìš° ê·€, í„±ì„  ì‚¬ì´ê°€ ë¶€ì •í™•í•˜ê²Œ ì±„ì›Œì§

### ğŸ’¥ ì›ì¸

* `fillPoly()`ëŠ” \*\*ë°˜ë“œì‹œ íê³¡ì„ (Closed Polygon)\*\*ì´ë©´ì„œ
  **ì‹œê³„ ë°©í–¥ ë˜ëŠ” ë°˜ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ì •ë ¬ëœ ì  ëª©ë¡**ì„ ìš”êµ¬í•¨
* ë‚´ê°€ ì²˜ìŒ ì‘ì„±í•œ í„±ì„  + ê·€ ì¢Œí‘œëŠ” ë‹¨ìˆœíˆ `127 â†’ jaw(0~16) â†’ 356 â†’ 127`ì²˜ëŸ¼ êµ¬ì„±ë¼
  ê²½ë¡œê°€ ë‹«íˆì§€ ì•Šê±°ë‚˜ ê¼¬ì„ ë°œìƒ

---

## ğŸ§ª ì‹œë„í•œ ë°©ë²•

### âŒ ì˜ëª»ëœ ì‹œë„ 1 - í„±ì„  + ê·€ ì¢Œí‘œ ì¡°í•©

```kotlin
val fullOutline = mutableListOf<Point>()
fullOutline.add(lm(127))
fullOutline.addAll((0..16).map { lm(it) })
fullOutline.add(lm(356))
fullOutline.add(lm(127)) // ë‹¤ì‹œ ë‹«ê¸°
```

* ê²°ê³¼: `fillPoly()` ë‚´ë¶€ ì™œê³¡ ë°œìƒ

---

---

## ğŸ“¸ ê²°ê³¼ ì´ë¯¸ì§€ 1

![image](https://github.com/user-attachments/assets/caef97c5-afbb-40f1-b8f0-5ab9f7964a27)



---

## âœ… ìµœì¢… í•´ê²° ë°©ë²•: MediaPipe ê³µì‹ 468 Landmark ìœ¤ê³½ì„  ì¸ë±ìŠ¤ ì‚¬ìš©

### ğŸ“Œ ì¸ë±ìŠ¤ êµ¬ì„±

```kotlin
val outlineIndices = listOf(
    10, 338, 297, 332, 284, 251, 389, 356, 454, 323, 361,
    288, 397, 365, 379, 378, 400, 377, 152, 148, 176, 149,
    150, 136, 172, 58, 132, 93, 234, 127, 162, 21, 54,
    103, 67, 109
)
```

### ğŸ“Œ ì™„ì„± ì½”ë“œ

```kotlin
val polygon = outlineIndices.map {
    Point(
        (landmarks[it].x() * width).toInt().toDouble(),
        (landmarks[it].y() * height).toInt().toDouble()
    )
} + outlineIndices.first().let {
    Point(
        (landmarks[it].x() * width).toInt().toDouble(),
        (landmarks[it].y() * height).toInt().toDouble()
    )
}

val mask = Mat.zeros(height, width, CvType.CV_8UC1)
Imgproc.fillPoly(mask, listOf(MatOfPoint().apply { fromList(polygon) }), Scalar(255.0))
```

---

## ğŸ¯ ê²°ê³¼

* ì–¼êµ´ ì „ì²´ë¥¼ ê°ì‹¸ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ë§ˆìŠ¤í¬ ìƒì„± ì„±ê³µ
* `fillPoly()` ë‚´ë¶€ë„ ë§¤ë„ëŸ½ê²Œ ì±„ì›Œì§
* ë¶€ë“œëŸ¬ìš´ í†¤ë§¤ì¹­ + ëˆˆ ì œì™¸ í•„í„°ì— í™œìš© ê°€ëŠ¥

---

## ğŸ’¡ íŒ

* `fillPoly()` ë§ˆìŠ¤í¬ê°€ ì°¢ì–´ì§ˆ ë• â†’ ì  ìˆœì„œ/ë‹«í˜ ì—¬ë¶€ë¶€í„° í™•ì¸!
* MediaPipe ê³µì‹ ìœ¤ê³½ì„  ì¸ë±ìŠ¤ëŠ” ê°€ì¥ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë°©ì‹
* `saveImageToGallery()`ë¡œ ë””ë²„ê¹… ì‹œê°í™” ì ê·¹ í™œìš©

---

## ğŸ“¸ ê²°ê³¼ ì´ë¯¸ì§€

![image](https://github.com/user-attachments/assets/59b0d471-1327-4743-b5cf-1efb4b51f4ac)


---

